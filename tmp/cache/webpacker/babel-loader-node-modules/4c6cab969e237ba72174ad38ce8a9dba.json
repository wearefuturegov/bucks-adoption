{"ast":null,"code":"var _jsxFileName = \"/Users/chrisevans/Desktop/github/bucks-adoption/app/javascript/components/ServiceDialog/index.jsx\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState } from \"react\";\nimport { Dialog } from \"@reach/dialog\";\nimport \"./style.scss\";\nimport ServiceDetailItem from \"../ServiceDetailItem\";\nimport { prettyDays } from \"../../lib/utils\";\nimport cross from \"./cross.svg\";\nimport heart from \"./heart.svg\";\nimport send from \"./send.svg\";\nimport ShareDialog from \"../ShareDialog\";\nimport Button from \"../Button\";\nimport DetailMap from \"../Maps/DetailMap\";\n\nvar ServiceDialog = function ServiceDialog(_ref) {\n  var service = _ref.service,\n      handleDismiss = _ref.handleDismiss;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      shareDialogOpen = _useState2[0],\n      toggleShareDialog = _useState2[1];\n\n  return React.createElement(Dialog, {\n    isOpen: Boolean(service),\n    onDismiss: handleDismiss,\n    className: \"service-dialog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, service && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"service-dialog__cover-image service-dialog__cover-image--\".concat(service.category),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"service-dialog__actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"service-dialog__button\",\n    onClick: handleDismiss,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: cross,\n    alt: \"Close\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"service-dialog__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: heart,\n    alt: \"Save for later\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"service-dialog__button\",\n    onClick: function onClick() {\n      toggleShareDialog(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: send,\n    alt: \"Share\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"service-dialog__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"service-dialog__title service-dialog__title--\".concat(service.category),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, service.name || service.parentOrganisation), service.description && React.createElement(\"p\", {\n    className: \"service-dialog__description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, service.description), service.url && React.createElement(Button, {\n    withBottomMargin: true,\n    href: service.url,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Visit website\"), (service.venue || service.area || service.postcode) && React.createElement(ServiceDetailItem, {\n    kind: \"place\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, service.venue && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, service.venue), service.area && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, service.area), service.postcode && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, service.postcode), React.createElement(\"a\", {\n    href: \"https://www.google.com/maps/place/\".concat(service.postcode, \"/@\").concat(service.geo.coordinates[1], \",\").concat(service.geo.coordinates[0], \",15z\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Get directions\")), (service.days.length > 0 || service.frequency) && React.createElement(ServiceDetailItem, {\n    kind: \"calendar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, service.days.length > 0 && prettyDays(service.days), service.frequency && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, service.frequency)), (service.contactName || service.phone || service.email) && React.createElement(ServiceDetailItem, {\n    kind: \"contact\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, service.contactName && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, service.contactName), service.phone && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, service.phone), service.email && React.createElement(\"a\", {\n    href: \"mailto:\".concat(service.email),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, service.email))), React.createElement(DetailMap, {\n    category: service.category,\n    coordinates: service.geo.coordinates,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(ShareDialog, {\n    dialogIsOpen: shareDialogOpen,\n    toggleDialog: toggleShareDialog,\n    shareableUrl: \"/service/\".concat(service.assetId),\n    singleService: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })));\n};\n\nexport default ServiceDialog;","map":{"version":3,"sources":["/Users/chrisevans/Desktop/github/bucks-adoption/app/javascript/components/ServiceDialog/index.jsx"],"names":["React","useState","Dialog","ServiceDetailItem","prettyDays","cross","heart","send","ShareDialog","Button","DetailMap","ServiceDialog","service","handleDismiss","shareDialogOpen","toggleShareDialog","Boolean","category","name","parentOrganisation","description","url","venue","area","postcode","geo","coordinates","days","length","frequency","contactName","phone","email","assetId"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,OAAO,cAAP;AACA,OAAOC,iBAAP,MAA8B,sBAA9B;AACA,SAAQC,UAAR,QAAyB,iBAAzB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAA8B;AAAA,MAA5BC,OAA4B,QAA5BA,OAA4B;AAAA,MAAnBC,aAAmB,QAAnBA,aAAmB;;AAAA,kBACHZ,QAAQ,CAAC,KAAD,CADL;AAAA;AAAA,MACzCa,eADyC;AAAA,MACxBC,iBADwB;;AAEhD,SACI,oBAAC,MAAD;AACI,IAAA,MAAM,EAAEC,OAAO,CAACJ,OAAD,CADnB;AAEI,IAAA,SAAS,EAAEC,aAFf;AAGI,IAAA,SAAS,EAAC,gBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKKD,OAAO,IACJ,0CACI;AAAK,IAAA,SAAS,qEAA8DA,OAAO,CAACK,QAAtE,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAA2C,IAAA,OAAO,EAAEJ,aAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmE;AAAK,IAAA,GAAG,EAAER,KAAV;AAAiB,IAAA,GAAG,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAnE,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2C;AAAK,IAAA,GAAG,EAAEC,KAAV;AAAiB,IAAA,GAAG,EAAC,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA3C,CADJ,EAEI;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAA2C,IAAA,OAAO,EAAE,mBAAI;AACpDS,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH,KAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEG;AAAK,IAAA,GAAG,EAAER,IAAV;AAAgB,IAAA,GAAG,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFH,CAFJ,CAFJ,CADJ,CADJ,EAcI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,yDAAkDK,OAAO,CAACK,QAA1D,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoFL,OAAO,CAACM,IAAR,IAAgBN,OAAO,CAACO,kBAA5G,CADJ,EAEKP,OAAO,CAACQ,WAAR,IAAuB;AAAG,IAAA,SAAS,EAAC,6BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4CR,OAAO,CAACQ,WAApD,CAF5B,EAIKR,OAAO,CAACS,GAAR,IAAe,oBAAC,MAAD;AAAQ,IAAA,gBAAgB,MAAxB;AAAyB,IAAA,IAAI,EAAET,OAAO,CAACS,GAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAJpB,EAMK,CAACT,OAAO,CAACU,KAAR,IAAiBV,OAAO,CAACW,IAAzB,IAAiCX,OAAO,CAACY,QAA1C,KACG,oBAAC,iBAAD;AAAmB,IAAA,IAAI,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKZ,OAAO,CAACU,KAAR,IAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIV,OAAO,CAACU,KAAZ,CADtB,EAEKV,OAAO,CAACW,IAAR,IAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIX,OAAO,CAACW,IAAZ,CAFrB,EAGKX,OAAO,CAACY,QAAR,IAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIZ,OAAO,CAACY,QAAZ,CAHzB,EAII;AAAG,IAAA,IAAI,8CAAuCZ,OAAO,CAACY,QAA/C,eAA4DZ,OAAO,CAACa,GAAR,CAAYC,WAAZ,CAAwB,CAAxB,CAA5D,cAA0Fd,OAAO,CAACa,GAAR,CAAYC,WAAZ,CAAwB,CAAxB,CAA1F,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,CAPR,EAeK,CAACd,OAAO,CAACe,IAAR,CAAaC,MAAb,GAAsB,CAAtB,IAA2BhB,OAAO,CAACiB,SAApC,KACG,oBAAC,iBAAD;AAAmB,IAAA,IAAI,EAAC,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKjB,OAAO,CAACe,IAAR,CAAaC,MAAb,GAAsB,CAAtB,IAA2BxB,UAAU,CAACQ,OAAO,CAACe,IAAT,CAD1C,EAEKf,OAAO,CAACiB,SAAR,IAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIjB,OAAO,CAACiB,SAAZ,CAF1B,CAhBR,EAqBK,CAACjB,OAAO,CAACkB,WAAR,IAAuBlB,OAAO,CAACmB,KAA/B,IAAwCnB,OAAO,CAACoB,KAAjD,KACG,oBAAC,iBAAD;AAAmB,IAAA,IAAI,EAAC,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKpB,OAAO,CAACkB,WAAR,IAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIlB,OAAO,CAACkB,WAAZ,CAD5B,EAEKlB,OAAO,CAACmB,KAAR,IAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAInB,OAAO,CAACmB,KAAZ,CAFtB,EAGKnB,OAAO,CAACoB,KAAR,IAAiB;AAAG,IAAA,IAAI,mBAAYpB,OAAO,CAACoB,KAApB,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCpB,OAAO,CAACoB,KAA7C,CAHtB,CAtBR,CAdJ,EA2CI,oBAAC,SAAD;AACI,IAAA,QAAQ,EAAEpB,OAAO,CAACK,QADtB;AAEI,IAAA,WAAW,EAAEL,OAAO,CAACa,GAAR,CAAYC,WAF7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3CJ,EA+CI,oBAAC,WAAD;AACI,IAAA,YAAY,EAAEZ,eADlB;AAEI,IAAA,YAAY,EAAEC,iBAFlB;AAGI,IAAA,YAAY,qBAAcH,OAAO,CAACqB,OAAtB,CAHhB;AAII,IAAA,aAAa,MAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/CJ,CANR,CADJ;AAiEH,CAnED;;AAqEA,eAAetB,aAAf","sourcesContent":["import React, {useState} from \"react\"\nimport { Dialog } from \"@reach/dialog\"\nimport \"./style.scss\"\nimport ServiceDetailItem from \"../ServiceDetailItem\"\nimport {prettyDays} from \"../../lib/utils\"\nimport cross from \"./cross.svg\"\nimport heart from \"./heart.svg\"\nimport send from \"./send.svg\"\nimport ShareDialog from \"../ShareDialog\"\nimport Button from \"../Button\"\nimport DetailMap from \"../Maps/DetailMap\"\n\nconst ServiceDialog = ({service, handleDismiss}) => {\n    const [shareDialogOpen, toggleShareDialog] = useState(false)\n    return(\n        <Dialog\n            isOpen={Boolean(service)}\n            onDismiss={handleDismiss}\n            className=\"service-dialog\"\n        >\n            {service &&\n                <>\n                    <div className={`service-dialog__cover-image service-dialog__cover-image--${service.category}`}>\n                        <div className=\"service-dialog__actions\">\n                            <button className=\"service-dialog__button\" onClick={handleDismiss}><img src={cross} alt=\"Close\"/></button>\n                            <div>\n                                <button className=\"service-dialog__button\"><img src={heart} alt=\"Save for later\"/></button>\n                                <button className=\"service-dialog__button\" onClick={()=>{\n                                    toggleShareDialog(true)\n                                }}><img src={send} alt=\"Share\"/></button>\n\n                            </div>\n\n                        </div>\n                    </div>\n                    <div className=\"service-dialog__body\">\n                        <h1 className={`service-dialog__title service-dialog__title--${service.category}`}>{service.name || service.parentOrganisation}</h1>\n                        {service.description && <p className=\"service-dialog__description\">{service.description}</p>}\n\n                        {service.url && <Button withBottomMargin href={service.url}>Visit website</Button>}\n                        \n                        {(service.venue || service.area || service.postcode) &&\n                            <ServiceDetailItem kind=\"place\">\n                                {service.venue && <p>{service.venue}</p>}\n                                {service.area && <p>{service.area}</p>}\n                                {service.postcode && <p>{service.postcode}</p>}\n                                <a href={`https://www.google.com/maps/place/${service.postcode}/@${service.geo.coordinates[1]},${service.geo.coordinates[0]},15z`}>Get directions</a>\n                            </ServiceDetailItem>\n                        }\n            \n                        {(service.days.length > 0 || service.frequency) &&\n                            <ServiceDetailItem kind=\"calendar\">\n                                {service.days.length > 0 && prettyDays(service.days)}\n                                {service.frequency && <p>{service.frequency}</p>}\n                            </ServiceDetailItem>\n                        }\n                        {(service.contactName || service.phone || service.email) &&\n                            <ServiceDetailItem kind=\"contact\">\n                                {service.contactName && <p>{service.contactName}</p>}\n                                {service.phone && <p>{service.phone}</p>}\n                                {service.email && <a href={`mailto:${service.email}`}>{service.email}</a>}\n                            </ServiceDetailItem>                    \n                        }\n                    </div> \n                    <DetailMap\n                        category={service.category}\n                        coordinates={service.geo.coordinates}\n                    />\n                    <ShareDialog\n                        dialogIsOpen={shareDialogOpen}\n                        toggleDialog={toggleShareDialog}\n                        shareableUrl={`/service/${service.assetId}`}\n                        singleService\n                    />\n                </>\n\n            }\n        </Dialog>\n    )\n}\n\nexport default ServiceDialog"]},"metadata":{},"sourceType":"module"}